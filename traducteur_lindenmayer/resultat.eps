
%!PS-Adobe-3.0 EPSF-3.0
%%Title: (dessin systeme L --- IFT2015 hiver 2020)
%%Creator: (moi)
%%BoundingBox: 0 0 500 500 
%%EndComments

% 
% %%BeginProlog ... %%EndProlog sont des commentaires de structuration de document 
% pour donner les definitions de nouvelles "ressources" (opï¿½rateurs, polices, etc) 


%
% %%BeginResource...%%EndResource enferment une ressource 
% comme un ensemble d'operateurs (procset). 
%

%%BeginProlog
%%BeginResource: procset (graphisme tortue) 1.0 0

% --------- definition d'operations pour graphisme tortue
%
% Le systeme de coordonnes suit les deplacements et tours de la tortue,
% de maniere a ce que la tourtue est toujours a l'origine avec le next tourne 
% vers l'axe X. 
% 
% Operations: 
% T:move avance la tortue 
% T:draw avance la tortue en dessinant une ligne entre les points de depart et arrivee
% T:turn tourne le nez de la tortue

/T:move % d T:move -
	% avance la tortue par d (nombre --- positif, negatif ou 0)
{
	0 translate % mettre l'origin a cette nouvelle position
} def

/T:draw % d T:draw -
	% avance la tortue par d en dessinant une ligne
{
	newpath 
	0 0 moveto
	0 lineto
	currentpoint 
	stroke 
	translate 
} def

/T:turn % angle T:turn -
	% tourne le nez de la tourtue par l'angle (en degres)
{
	rotate
} def

/T:init % x y angle T:init -
	% etat initiel de la tortue
{	
	3 1 roll translate
	rotate 
} def

%%EndResource

%%BeginResource: procset (regle aleatoire) 1.0 0

realtime srand % graine aleatoire --- pendant les tests, utiliser une valeur fixe (p.e., 2015 rand) si necessaire pour repetabilite

/L:rnd % [op1 op2 ...] L.rnd -
	% choisit un operateur au hasard et l'execute
	% op1, op2 etc sont des noms (commencent par /)
{
	rand % nombre aleatoire entre 0 et 2^31-1
	1 index length % longueur du tableau 
	mod % nombre aleatoire entre 0 et len-1
	get 
	cvx % conversion a executable 
	exec % executer
} def

%%EndResource

% 
% La reste du fichier est genere par votre traducteur. Il n'est pas necessaire d'ecrire des 
% commentaires. 
% ---------------- BEGIN

/L:d 2 def
/L:a 22.5 def
/F
{
 	dup
 	0 eq
	{
		L:d T:drawn
        pop
	}
	{
		1 sub
		[/F1 /F2 /F3] L:rnd
	}ifelse
        
}def 